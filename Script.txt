CREATE DATABASE 'C:\caminho\para\seu\banco\mvpdb.fdb'
USER 'SYSDBA' PASSWORD 'masterkey'
PAGE_SIZE 16384
DEFAULT CHARACTER SET UTF8;


CREATE TABLE TCONSULTASVIACEP (
    BDCODIGO       INTEGER NOT NULL,
    BDCEP          VARCHAR(10),
    BDLOGRADOURO   DMCHARACTERVIACEP /* DMCHARACTERVIACEP = VARCHAR(100) */,
    BDCOMPLEMENTO  VARCHAR(20),
    BDBAIRRO       DMCHARACTERVIACEP /* DMCHARACTERVIACEP = VARCHAR(100) */,
    BDLOCALIDADE   DMCHARACTERVIACEP /* DMCHARACTERVIACEP = VARCHAR(100) */,
    BDUF           VARCHAR(2)
);

CREATE DOMAIN DMCHARACTERVIACEP AS
VARCHAR(100) CHARACTER SET NONE
COLLATE NONE;



ALTER TABLE TCONSULTASVIACEP ADD CONSTRAINT PK_TCONSULTASVIACEP PRIMARY KEY (BDCODIGO);




SET TERM ^ ;





/* Trigger: TCONSULTASVIACEP_BI0 */
CREATE OR ALTER TRIGGER TCONSULTASVIACEP_BI0 FOR TCONSULTASVIACEP
ACTIVE BEFORE INSERT POSITION 0
AS
begin
 if (Coalesce(new.bdcodigo,0)=0) then
     Select Coalesce(max(bdcodigo),0)+1 from TCONSULTASVIACEP into new.bdcodigo;

end^

SET TERM ; ^



